!function(t){var e={};function o(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=e,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){"use strict";o.r(e);const r=(()=>{const t=[],e=[];let o=0;return{addTodo:(t,r,n,d,l)=>{let i=((t,e,o,r,n,d)=>({title:t,description:e,dueDate:o,priority:r,projectNumber:n,done:!1,todoIndex:d}))(t,r,n,d,l,o);return o++,e.push(i),i},addProject:(e,o,r)=>{let n=((t,e,o)=>({projectTitle:t,projectDescription:e,index:o}))(e,o,r);return t.push(n),n},projects:t,todos:e}})(),n=(()=>{const t=r.projects,e=r.todos;return{allTodos:()=>r.todos,todosbyProject:t=>e.filter(e=>e.projectNumber===t),projectTitles:()=>{return t.map(t=>t.projectTitle)},byDate:t=>{return t.sort((function(t,e){return t.dueDate-e.dueDate}))},byImportance:t=>{return t.sort((function(t,e){return e.priority-t.priority}))},fetchProject:e=>{return t.find(t=>t.index==e)}}})();let d=null;const l=(()=>{const t=()=>{a.querySelectorAll("li").forEach(t=>{0==t.dataset.priority&&t.classList.add("nofuck"),1==t.dataset.priority&&t.classList.add("low"),2==t.dataset.priority&&t.classList.add("mid"),3==t.dataset.priority&&t.classList.add("important")})},e=(t,e)=>{let o=document.createElement("i");return o.classList.add("fas"),o.classList.add("fa-file"),o.dataset.project=t,o.dataset.number=e,o.addEventListener("click",i.toDoicon),o};return{displayProjectTitles:()=>{(()=>{for(;c.childNodes.length>0;)c.removeChild(c.lastChild)})();const t=r.projects;for(let e=0;e<t.length;e++)if(void 0!==t[e]){let o=document.createElement("li"),r=document.createElement("button");r.classList.add("project"),r.dataset.number=t[e].index,r.addEventListener("click",i.projectButton),r.textContent=`${t[e].projectTitle}`,o.appendChild(r),c.appendChild(o)}},displayTodos:o=>{(()=>{for(;a.childNodes.length>0;)a.removeChild(a.lastChild)})();const r=document.createElement("div");for(let t=0;t<o.length;t++){let n=document.createElement("li");n.classList.add("todo"),n.dataset.priority=o[t].priority,n.textContent=`${o[t].title}, ${o[t].dueDate}, index ${o[t].todoIndex} `;let d=e(o[t].projectNumber,o[t].todoIndex);n.appendChild(d),r.appendChild(n)}a.appendChild(r),t()},putOnTop:(t,e)=>{(()=>{for(;s.childNodes.length>0;)s.removeChild(s.lastChild),console.log(s.childNodes)})();let o=document.createElement("h2");o.textContent=t;let r=document.createElement("p");r.textContent=e,s.appendChild(o),s.appendChild(r)},colorImportance:t}})(),i={toDoicon:function(){console.log(this.dataset.project,this.dataset.number)},projectButton:function(){let t=parseInt(this.dataset.number),e=n.fetchProject(t);console.log(t,e),d=t,l.displayTodos(n.todosbyProject(t)),l.putOnTop(e.projectTitle,e.projectDescription)},showAll:()=>{d=null,l.displayTodos(n.allTodos()),l.putOnTop("full list","")},sortbydate:()=>{null===d?l.displayTodos(n.byDate(n.allTodos())):l.displayTodos(n.byDate(n.todosbyProject(d)))},important:()=>{null===d?l.displayTodos(n.byImportance(n.allTodos())):l.displayTodos(n.byImportance(n.todosbyProject(d))),console.log("fuck you")}},a=document.querySelector(".right-content"),s=document.querySelector(".right-title"),c=document.querySelector(".project-list");document.querySelector(".allbutton").addEventListener("click",i.showAll),document.querySelector(".sortbydate-button").addEventListener("click",i.sortbydate),document.querySelector(".important-button").addEventListener("click",i.important),r.addProject("bitoufle","un projet basé sur la bitoufle",1),r.addProject("soupline","un ensemble de taches destinées à acquérir du Soupline, classées du plus important au moins important, oui oui, vraiment",2),r.addProject("autre projet","un autre projet, étonnemment classé à l'index 11, et vide.",11),r.addTodo("définir bitoufle","se renseigner sur le sens du mot bitoufle",2019,0,1),r.addTodo("acquérir poivre","acquérir du poivre",2019,1,1),r.addTodo("magasin","voir si y'a du soupline au magasin",2016,2,2),r.addTodo("pétrole","mouflardax du pétrole",2097,1,2),r.addTodo("futur","mouflardax du futur",2050,3,2),l.displayProjectTitles(),l.displayTodos(n.allTodos()),console.log(n.fetchProject("2"))}]);